<%= form_for(@embu) do |f| %>
    <% if @embu.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@embu.errors.count, "error") %> prohibited this embu from being saved:</h2>

          <ul>
            <% @embu.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="field">
      <%= f.label :rank_id, t(:rank) %>:
      <% if @embu.new_record? %>
          <br/>
          <%= f.select :rank_id, @ranks.map { |r| [r.name, r.id] } %>
      <% else %>
          <%= @embu.rank.name %>
      <% end %>
    </div>

    <div class="field">
      <%= f.label :description, t(:description) %>
      <% unless @embu.new_record? %>
          (<%= link_to 'Print', :action => :print %>)
      <% end %>
      <br/>
      <%= f.text_area :description, :style => 'width: 80%' %>
      <% @embu.images.select('images.id, content_type, name').each do |e| %>
          <% if e.video? %>
              <%= video_tag url_for(:controller => :images, :action => :show, :id => e.id, :format => e.format), :title => e.name || 'Film', :controls => true, :autobuffer => true, :style => "float: right; width: 19%" %>
              </video>
          <% else %>
              <%= image_tag url_for(:controller => :images, :action => :inline, :id => e.id, :format => e.format, :width => 185), :title => e.name || 'Bilde', :style=>"float: right; width: 19%" %>
          <% end %>
          <br clear="right"/>
      <% end %>
    </div>

    <% unless @embu.new_record? %>
        <div class="field">
          <%= f.label :image, t(:image) %>:
          <%= f.file_field :image %>
        </div>
    <% end %>

    <div class="actions">
      <%= f.submit %>
    </div>
<% end %>
